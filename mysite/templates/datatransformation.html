<!DOCTYPE html>
<html lang="en" dir="ltr">
  {% include "head.html" %}


<body class="header-fixed sidebar-fixed sidebar-dark header-light" id="body">
  
  <script>
    NProgress.configure({ showSpinner: false });
    NProgress.start();
  </script>

  <div class="mobile-sticky-body-overlay"></div>

  
  <div id="toaster"></div>
  

  <div class="wrapper">
    
        {% include "leftsidebar.html" %}

    

    <div class="page-wrapper">
                <!-- Header -->
                {% include "header.html" %}


      <div class="content-wrapper">
        <div class="content">		
          
            <div class="card card-default">
              <div class="card-header card-header-border-bottom">
                <h2>Source DataFrame</h2>
              </div>
              <div class="card-body">
                 
                {% autoescape off %}
                      {{dataframe}}
                    {% endautoescape %}
                </div>
              </div>
              <div class="card card-default">
                <div class="card-header card-header-border-bottom">
                  <h2>Define UDF</h2>
                </div>
                <div class="card-body">
                  <p> Select Input Column from Dataframe <select
                        class="js-example-basic-multiple form-control"
                        name="columns"
                        multiple="multiple"
                        data-select2-id="columns1"
                        tabindex="-1"
                        aria-hidden="true"
                      >
                        //{% for c in columns %}
                        <option value="{{ c }}">{{c}}</option>
                        //{% endfor %}
                      </select></p> 
                  <p>TextArea Python Code
                  <textarea name="udfcode1" class="form-control" id="exampleFormControlTextarea1" rows="3" style="margin-top: 0px; margin-bottom: 0px; height: 122px;" ></textarea>
                  </p>
                  <p>Multiple Selection of DataType
                  <select
                        class="js-example-basic-multiple form-control"
                        name="columns"
                        multiple="multiple"
                        data-select2-id="output1"
                        tabindex="-1"
                        aria-hidden="true"
                      >
                        //{% for c in types %}
                        <option value="{{ c }}">{{c}}</option>
                        //{% endfor %}
                      </select>
                  </p>
                  <br/>
                  <p>
                  <button type="button" class="btn btn-block btn-primary">Add</button>
                  <button type="button" class="btn btn-block btn-warning">Remove</button><p/>
                  <p>TODO: On creation; create preselect</p>
                  </div>
                </div>
            <div class="card card-default">
                <div class="card-header card-header-border-bottom">
                  <h2>Apply Transformation</h2>
                </div>
                <div class="card-body">
                    <form enctype="multipart/form-data" action="{% url 'transformdata' project.pk %}" method='POST'>
                      {% csrf_token %}
                      <label for="exampleFormControlTextarea1">Define UDFs</label>
                      <textarea name="udfclasses" class="form-control" id="exampleFormControlTextarea1" rows="3" style="margin-top: 0px; margin-bottom: 0px; height: 122px;" value="{{udfclasses}}">{{udfclasses}}</textarea>
                      <label for="exampleFormControlInput1">Provide Select Statement</label>
                      <input type="text" name="selectstatement" class="form-control" id="exampleFormControlInput1" placeholder='select("*")' value="{{selectstatement}}">
                      <br/>
                      <button type="submit" class="btn btn-primary">Transform</button>
                    </form>
                  </div>
                </div>
                
                <div class="card card-default">
                  <div class="card-header card-header-border-bottom">
                    <h2>Target DataFrame</h2>
                  </div>
                  <div class="card-body">
                     
                    {% autoescape off %}
                          {{dataframe2}}
                        {% endautoescape %}
                    </div>
                  </div>
                
              
          
                  
                  


						

						

						

						
</div>

        


      </div>

                <footer class="footer mt-auto">
            <div class="copyright bg-white">
              <p>
                &copy; <span id="copy-year">2019</span> Copyright Sleek Dashboard Bootstrap Template by
                <a
                  class="text-primary"
                  href="http://www.iamabdus.com/"
                  target="_blank"
                  >Abdus</a
                >.
              </p>
            </div>
            <script>
                var d = new Date();
                var year = d.getFullYear();
                document.getElementById("copy-year").innerHTML = year;
            </script>
          </footer>

    </div>
  </div>
{% include "scripts.html" %}
</body>

</html>
